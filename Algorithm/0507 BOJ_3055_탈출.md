# BOJ_3055_íƒˆì¶œ!

> ìš”ì¦˜ ë§ˆìŒì„ ë‹¤ì¡ì€ ê¹€ì— ë‹¤ì‹œ ì•Œê³ ë¦¬ì¦˜ ìŠ¤í„°ë””ì— ì°¸ì—¬í•´ ë¬¸ì œë¥¼ í’€ê¸°ë¡œ ê²°ì‹¬í–ˆë‹¤. 
>
> ë‚˜ëŠ” ê°œë°œìê°€ ë  ìˆ˜ ìˆë‹¤. 
>
> ~~ì ì‘¤ì´ì˜!!~~



## 1íŠ¸! -> DFS

```python
import sys; sys.stdin = open('input_data/3055.txt')
# ë³µì‚¬í•´ì„œ DFSì— ê°™ì´ ë‹´ì•„ì£¼ë ¤ê³  deepcopyë¥¼ ì‚¬ìš©í–ˆë‹¤!
# 2ì¤‘ ì´ìƒì˜ list í˜•íƒœë¼ë©´ ê¼­!! deepcopyë¥¼ í•´ì¤˜ì•¼ í•œë‹¤ì´?! 
from copy import deepcopy

# ë²¡í„°ë¡œ ìƒí•˜ì¢Œìš°ê°’ì„ ë„£ì–´ë†“ê³  ë‚˜ì¤‘ì— ì‚¬ìš©í•œë‹¤.
dx = [1, -1, 0, 0]
dy = [0, 0, 1, -1]

# ë§¨ ì²˜ìŒì—” DFSë¡œ í’€ì–´ë³´ì•˜ë‹¤.
# í•¨ìˆ˜ ì •ì˜ë³´ë‹¤ ì•„ë˜ë¶€í„° ì½ëŠ”ê²Œ ì´í•´í•˜ê¸° ì‰¬ì›Œìš”!
def DFS(x, y, depth, Ground, visit, water_list):
    global Max
    # ì™œ ë§¨ì²˜ìŒì—” ì´ë ‡ê²Œ ìƒê°í–ˆëŠ”ì§„ ëª°ë¼ë„ DFSì— ì§€ë„ì™€ ë°©ë¬¸ì²˜ë¦¬ë¥¼ ê°™ì´ ë‹´ì•„ì„œ ë³´ëƒˆë‹¤.
    now_ground = deepcopy(Ground)
    now_visit = deepcopy(visit)
    # water_listë‘ now_waterë¥¼ ë™ì‹œì— ì“´ ì´ìœ ëŠ” ì•„ë˜ì—ì„œ whileë¡œ ëŒë¦¬ê¸° ë•Œë¬¸ì— ê³„ì† ë“¤ì–´ê°€ë©´ ì•ˆë˜ê¸° ë•Œë¬¸ì—! ì €ë²ˆê»ë§Œ ì²˜ë¦¬í•˜ê³  ì´ë²ˆê»€ ë”°ë¡œ ë‹´ì•„ì„œ ë‹¤ìŒ ìŠ¤í…Œì´ì§€ì—ì„œ ì²˜ë¦¬í•´!
    now_water = []
    if depth >= Max:
        return
    now_visit[x][y] = 1
    while water_list:
        # í•˜ë‚˜ì”© ë¹¼ì„œ
        water_x, water_y = water_list.pop()
        # ë„¤ ë°©í–¥ í™•ì¸
        for k in range(4):
            tx = water_x + dx[k]
            ty = water_y + dy[k]
            # ì í•©í•˜ë©´?
            if 0 <= tx < height and 0 <= ty < width and [tx, ty] not in water_list and (Ground[tx][ty] == "." or Ground[tx][ty] == "S"):
                # now_waterì— ë‹´ì•„ì„œ ë‹¤ìŒì— ë¬¼ ì ê¸¸ ê³³ ì²´í¬
                now_ground[tx][ty] = "*"
                now_water.append([tx, ty])
	# ë˜ ë„¤ë°©í–¥ í™•ì¸í•´ì„œ
    for i in range(4):
        tx = x + dx[i]
        ty = y + dy[i]
        if 0 <= tx < height and 0 <= ty < width and now_ground[tx][ty] == "D":
            if Max > depth + 1:
                Max = depth + 1
                return
        # ì í•©í•˜ë©´
        if 0 <= tx < height and 0 <= ty < width and now_ground[tx][ty] == "." and not visit[tx][ty]:
            # ã„±ã„±ã„¹~
            DFS(tx, ty, depth+1, now_ground, now_visit, now_water)

# ì—¬ê¸°ë¶€í„° ì½ìœ¼ì„¸ìš”!?
# ê°’ ë¶ˆëŸ¬ì˜¤ê¸°
height, width = map(int, sys.stdin.readline().split())
Ground = []
hole = list()
quokka = list()
water_list = []
# í•œ ì¤„ì”© ë¶ˆëŸ¬ì˜¤ë©´ì„œ
for i in range(height):
    # sys.stdin.readline() -> ì¼ë°˜ì ì¸ input()ë³´ë‹¤ í›¨ì”¬ ë¹¨ë¼ì„œ ì‹œê°„ì´ˆê³¼ì‹œ ê¿€íŒ
    line = list(' '.join(sys.stdin.readline()).split())
    Ground.append(line)
    # ê° ë¼ì¸ì— í•´ë‹¹ ìš”ì†Œê°€ ìˆìœ¼ë©´ ê°’ ì§€ì •í•´ì¤Œ
    if not hole:
        if "D" in line:
            hole = [i, line.index("D")]
    if not quokka:
        if "S" in line:
            quokka = [i, line.index("S")]
    if line.count("*") > 1:
        for j in range(line):
            water_list.append([i,j])
    elif line.count("*") == 1:
        water_list.append([i,line.index("*")])
# ë°©ë¬¸ì²˜ë¦¬í•  visit ìƒì„±
visit = [[0]*width for _ in range(height)]
# originì€ ì›ë˜ ê°’í•˜ê³  ë˜‘ê°™ìœ¼ë©´ ê²½ë¡œê°€ ì—†ëŠ” ê²ƒìœ¼ë¡œ "KAKTUS" ì¶œë ¥í• ë¼ê¼¬!
origin = width * (height//2 + 1)
Max = origin
DFS(quokka[0], quokka[1], 0, Ground, visit, water_list)
if Max == origin:
    print("KAKTUS")
else:
    print(Max)
```



- ì‹œê°„ ì´ˆê³¼`ë¡œ í‹€ë ¸ë‹¤. ê·¼ë° ë”±ë´ë„ ì‹œê°„ ì´ˆê³¼ê°€ ì•ˆë‚ ìˆ˜ê°€ ì—†ëŠ” êµ¬ì¡°ë‹¤. ì €ë ‡ê²Œ ì¬ê·€í˜•íƒœì¸ë° ë°ì´í„°ë„ ì™•ë¹µë§ê³  ì˜ ì•ˆì¢‹ë‹¤~! ğŸ˜¥ğŸ˜¥ğŸ˜¥ğŸ˜¥





## 2íŠ¸!!! -> BFS

> ì•„ë¬´ë ´ ì´ëŸ° ë¬¸ì œëŠ” `ì‹œê°„`ì´ë‚˜ `ë©”ëª¨ë¦¬`ë‚˜ BFSê°€ í›¨ì”¬ ì í•©í•œ ë¬¸ì œë‹¤.
>
> ë‹¹ì—°í•œê±´ë° ì´ëŸ°ê±° ê°ì„ ìƒì„ ì •ë„ë©´ ë°˜ì„±í•´ì•¼ê² ë‹¤. 

```python
import sys; sys.stdin = open('input_data/3055.txt')
from copy import deepcopy
from collections import deque

dx = [1, -1, 0, 0]
dy = [0, 0, 1, -1]

height, width = map(int, sys.stdin.readline().split())
Ground = []
hole = list()
quokka = list()
water_list = deque()
for i in range(height):
    line = list(' '.join(sys.stdin.readline()).split())
    Ground.append(line)
    if not hole:
        if "D" in line:
            hole = [i, line.index("D")]
    if not quokka:
        if "S" in line:
            quokka = [i, line.index("S")]
    if line.count("*") > 1:
        for j in range(len(line)):
            if line[j] == "*":
                water_list.append([i,j])
    elif line.count("*") == 1:
        water_list.append([i,line.index("*")])

visit = [[0]*width for _ in range(height)]
origin = width * (height//2 + 1)
Max = origin
# ê·¸ëƒ¥ listë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ dequeë¥¼ ì‚¬ìš©í•´ì„œ ì•ë’¤ë¡œ ë¹¼ì£¼ëŠ”ê²Œ í›¨ì”¬ ë” íš¨ìœ¨ì ì´ë‹¤.
Q = deque()
Q.append([quokka[0], quokka[1], 0, Ground, visit, water_list])

# --------------- ì—¬ê¸°ê¹Œì§„ ì•„ê¹Œë‘ ê°™ì€ ëŠë‚Œìœ¼ë¡œ ì‘ì„±í–ˆìŠµë‹ˆë‹¤. -------------------
while Q:
    x, y, depth, my_ground, my_visit, my_water_list = Q.popleft()
    now_ground = deepcopy(my_ground)
    now_visit = deepcopy(my_visit)
    now_water = []
    now_visit[x][y] = 1
    while my_water_list:
        water_x, water_y = my_water_list.pop()
        for k in range(4):
            tx = water_x + dx[k]
            ty = water_y + dy[k]
            if 0 <= tx < height and 0 <= ty < width and [tx, ty] not in now_water and (
                    my_ground[tx][ty] == "." or my_ground[tx][ty] == "S"):
                now_ground[tx][ty] = "*"
                now_water.append([tx, ty])

    for i in range(4):
        tx = x + dx[i]
        ty = y + dy[i]
        if 0 <= tx < height and 0 <= ty < width and now_ground[tx][ty] == "D":
            if Max > depth + 1:
                Max = depth + 1
                pass
        if 0 <= tx < height and 0 <= ty < width and now_ground[tx][ty] == "." and not now_visit[tx][ty]:
            go_water = deepcopy(now_water)
            Q.append([tx, ty, depth + 1, now_ground, now_visit, go_water])

if Max == origin:
    print("KAKTUS")
else:
    print(Max)
```



- ì´ë²ˆì—ëŠ” `ë°ì´í„°ì´ˆê³¼`ê°€ ë‚¬ë˜ ê±¸ë¡œ ê¸°ì–µí•œë‹¤.
- ì—¬ê¸°ì—ì„œë„ deepcopyë¥¼ í†µí•´ì„œ ë„ˆë¬´ ë¬´ê±°ìš´ ë°ì´í„°ë¥¼ ê³„ì† ë³µì‚¬í•˜ê³  ì €ì¥í•˜ê³  í¼ ë‚˜ë¥´ë‹ˆ ì œëŒ€ë¡œ ì‘ë™í•  ë¦¬ê°€ ì—†ë‹¤.
- ëª¨ë“  ì½”ë“œë¥¼ ì‚­ì œí•˜ê³ , ë§¥ì£¼ í•œì”í•˜ê³  ìƒˆë¡œìš´ ë§ˆìŒìœ¼ë¡œ ì½”ë“œë¥¼ ì‘ì„±í–ˆë‹¤.





## 3íŠ¸!!!!!!!!!! -> ì—­ì‹œ BFS, 

```python
import sys; sys.stdin = open('input_data/3055.txt')
from collections import deque

dx = [1, -1, 0, 0]
dy = [0, 0, 1, -1]

height, width = map(int, sys.stdin.readline().split())
Ground = [list(' '.join(sys.stdin.readline()).split()) for _ in range(height)]
water_list = deque()
result = "KAKTUS"
# ë°©ë¬¸ì²˜ë¦¬ í˜•íƒœë¶€í„° ë°”ë€Œì—ˆë‹¤. ê° ìœ„ì¹˜ë¥¼ ê°ˆ ìˆ˜ ìˆëŠ” ìµœë‹¨ ê±°ë¦¬ë¥¼ ì‘ì„±í•˜ë„ë¡ ìˆ˜ì •í–ˆê³ , ê·¸ëŸ¬ê¸° ìœ„í•´ ì¶©ë¶„íˆ í° ê°’ì„ ì²˜ìŒë¶€í„° ë„£ì–´ì£¼ì—ˆë‹¤.
visit = [[100]*width for _ in range(height)]
Q = deque()

# ê·¸ë¦¬ê³  ê° ë‹¨ê³„ì—ì„œ ë¬¼ì˜ ì´ë™ì •ë„ë¥¼ í‘œì‹œí•˜ëŠ” ê²ƒì´ ì•„ë‹ˆê³ , ì²˜ìŒë¶€í„° ì§€ë„ì— ê° ë‹¨ê³„ë³„ ë¬¼ì´ ì–´ë””ê¹Œì§€ ì°¨ëŠ”ì§€ ëª¨ë‘ í‘œì‹œí•´ë‘ì—ˆë‹¤. ìƒí™©ì€ ì•„ë˜ì— ì´ë¯¸ì§€ë„ ë„£ì–´ë†“ì„ê²Œìœ 
for i in range(height):
    for j in range(width):
        if Ground[i][j] == "*":
            Ground[i][j] = 1
            water_list.append([i, j, 1])
        elif Ground[i][j] == "S":
            Q.append([i, j, 1])
        elif Ground[i][j] == "D":
            hole = [i, j]

while water_list:
    x, y, depth = water_list.popleft()
    for i in range(4):
        tx = x + dx[i]
        ty = y + dy[i]
        if 0 <= tx < height and 0 <= ty < width and (Ground[tx][ty] == "." or Ground[tx][ty] == "S"):
            Ground[tx][ty] = depth + 1
            water_list.append([tx, ty, depth + 1])
            
            
# ì´ì   ê³ ìŠ´ë„ì¹˜ ì´ë™            
while Q:
    x, y, depth = Q.popleft()
    visit[x][y] = depth
    depth += 1
    # ë„¤ ë°©í–¥ ì‚´í´ë³´ê³ 
    for i in range(4):
        tx = x + dx[i]
        ty = y + dy[i]
        # ë„ì°©ì§€ì— ì™”ì„ ë•Œ, ìµœë‹¨ê±°ë¦¬ë©´ ê¸°ë¡í•˜ê¸°.
        if [tx, ty] == hole:
            if type(result) == int and depth -1 < result:
                result = depth - 1
            else:
                result = depth - 1   
        # ë§Œì¼ ì§€ë„ê°€ ìˆ«ìë¡œ í‘œì‹œë˜ì–´ ìˆìœ¼ë©´(type(Ground[tx][ty]) == int) ë¬¼ì´ ì˜¬ ê²ƒì´ê³ , 
        # ë¬¼ì´ ì˜¤ëŠ” íƒ€ì´ë°ì´ í˜„ì¬ ë‚´ depthë³´ë‹¤ í¬ë©´(ì•„ì§ ë¬¼ì´ ì•ˆì™”ìœ¼ë©´ : Ground[tx][ty] > depth) BFSì— ì¶”ê°€
        if 0 <= tx < height and 0 <= ty < width and type(Ground[tx][ty]) == int and visit[tx][ty] > depth and Ground[tx][ty] > depth:
            visit[tx][ty] = depth
            Q.append([tx, ty, depth])
        # ì•„ê¹Œ ìˆ«ìë¡œ ë‹¤ í‘œì‹œí•´ë†“ì•˜ëŠ”ë°, ì•„ë¬´ë¦¬ ì˜¤ë˜ ì§€ë‚˜ë„ ë¬¼ì´ ì• ì´ˆì— ë¬¼ì´ ì•ˆë‹¿ëŠ” ì˜ì—­ì€ "."ë¡œ ë‚¨ì•„ìˆê¸° ë•Œë¬¸ì— ì´ë¶€ë¶„ ì²˜ë¦¬í•´ì£¼ì—ˆë‹¤.
        elif 0 <= tx < height and 0 <= ty < width and Ground[tx][ty] == "." and visit[tx][ty] > depth:
            visit[tx][ty] = depth
            Q.append([tx, ty, depth])

print(result)
```



![image-20210507011445492](0507 BOJ_3055_íƒˆì¶œ.assets/image-20210507011445492.png)

- Groundë¥¼ ë³´ë©´ ì´ëŸ°ì‹ìœ¼ë¡œ ìˆ«ìë¡œ ë¬¼ì´ ì¹¨ë²”í•˜ëŠ”ë° ì–¼ë§ˆë‚˜ ê±¸ë¦¬ëŠ”ì§€ í‘œì‹œí–ˆë‹¤.
- ì´ë²ˆì— ë„¤ì´ë²„ ì½”í…Œë¥¼ ë³´ë©´ì„œ íš¨ìœ¨ì„±ê²€ì‚¬ê°€ ì¤‘ìš”í•˜ë‹¤ëŠ”ê±¸ ë‹¤ì‹œ í•œ ë²ˆ ëŠê¼ˆê³ , bojë¬¸ì œë¥¼ í†µí•´ ìµœëŒ€í•œ íš¨ìœ¨ì ìœ¼ë¡œ ì½”ë“œë¥¼ êµ¬ì„±í•˜ëŠ” ë²•ì„ ê¾¸ì¤€íˆ ê³µë¶€í•´ì•¼ê² ë‹¤!